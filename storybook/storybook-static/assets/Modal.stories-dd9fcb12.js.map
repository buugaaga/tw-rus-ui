{"version":3,"file":"Modal.stories-dd9fcb12.js","sources":["../../../dist/components/Modal/ModalGroup/ModalGroup.context.js","../../../dist/components/Modal/ModalGroup/ModalGroup.js","../../../dist/components/Modal/Modal.js"],"sourcesContent":["import{createIndependentContext as o}from\"../../../hooks/use-independent-context.hook.js\";const[e,t]=o();export{e as ModalGroupContextProvider,t as useModalGroupContext};\n","import{jsx as t}from\"react/jsx-runtime\";import{useState as r,useEffect as i}from\"react\";import{ModalGroupContextProvider as e}from\"./ModalGroup.context.js\";const l=l=>{const{children:n}=l,[o,a]=r([]),[s,c]=r(null),d={registry:o,setRegistry:a,activeModalId:s};return i((()=>{if(o.length>1){const t=o[o.length-2];if(!t)return;t.animate([{opacity:1,transform:\"translateY(0%)\",filter:\"blur(0)\",visibility:\"visible\"},{opacity:0,transform:\"translateY(-50px)\",filter:\"blur(15px)\",visibility:\"hidden\"}],{duration:100}),t.style.zIndex=\"40\"}const t=o[o.length-1];t?(t.style.zIndex=\"60\",c(t.id)):c(null)}),[o]),t(e,Object.assign({value:d},{children:n}))};l.displayName=\"ModalGroup\";export{l as ModalGroup};\n","'use client';\nimport{__rest as e}from\"tslib\";import{jsxs as o,Fragment as r,jsx as i}from\"react/jsx-runtime\";import{ModalGroup as t}from\"./ModalGroup/ModalGroup.js\";import{useModalGroupContext as s}from\"./ModalGroup/ModalGroup.context.js\";import{useMergeRefs as l,FloatingPortal as a}from\"@floating-ui/react\";import{useFocusTrap as n}from\"../../hooks/use-focus-trap.hook.js\";import{useKeypress as c}from\"../../hooks/use-keypress.js\";import{useComponentTheme as m}from\"../../theme/theme.context.js\";import{usePropId as d}from\"../../utils/usePropId.js\";import{forwardRef as u,useRef as p,useState as y,useMemo as f,useEffect as h}from\"react\";import v from\"../Overlay/Overlay.js\";import{twMerge as b}from\"tailwind-merge\";const O={closeOnEscape:!0,color:\"white\",mode:\"dialog\",open:!1,overlayBlur:\"sm\",overlayCloseOnClick:!0,overlayColor:\"dark\",overlayOpacity:\"50\",position:\"top\",radius:\"md\",shadow:\"base\",size:\"sm\"},g=u(((t,u)=>{const g=m(\"Modal\"),j=Object.assign(Object.assign({},O),t),{children:C,className:k=\"\",closeOnEscape:w,color:x,mode:M,onClose:N,open:E,overlayBlur:G,overlayCloseOnClick:z,overlayColor:Y,overlayOpacity:B,position:I,radius:A,shadow:K,size:P}=j,R=e(j,[\"children\",\"className\",\"closeOnEscape\",\"color\",\"mode\",\"onClose\",\"open\",\"overlayBlur\",\"overlayCloseOnClick\",\"overlayColor\",\"overlayOpacity\",\"position\",\"radius\",\"shadow\",\"size\"]),T=d(t.id),$=p(null),[q,D]=y(!1),F=n(q),H=l([$,F||null,u||null]),J=p(null),{activeModalId:L,registry:Q,setRegistry:S}=s(),U=f((()=>{if(\"fullscreen\"===M)return\"0%\";switch(I){case\"top\":case\"bottom\":return\"0%\";default:return\"-50%\"}}),[I,M]);h((()=>{if(!S||!Q||!$.current)return;const e=E?[...Q,$.current]:Q.filter((e=>e!==$.current));if(S(e),0!==e.length&&!E&&e.length<Q.length){e[e.length-1].animate([{opacity:0,transform:\"translateY(-50px)\",visibility:\"hidden\"},{opacity:1,transform:\"translateY(0%)\",visibility:\"visible\"}],{duration:150}),D(!1)}}),[E]);const V=f((()=>b(g({className:k,color:x,mode:M,position:I,radius:A,shadow:K,size:P}))),[k,x,M,I,A,K,P,g]);c(\"Escape\",w,N);return h((()=>{const e=E?\"ease-in-out\":\"ease-out\",o=E?150:100,r=new KeyframeEffect($.current,[{opacity:0,transform:\"translateY(-100px)\",visibility:\"hidden\"},{opacity:1,transform:`translateY(${U})`,visibility:\"visible\"}],{duration:o,fill:\"both\",easing:e});J.current=new Animation(r,document.timeline)}),[E,$]),h((()=>{J.current&&(E?(J.current.play(),J.current.onfinish=()=>{D(!0)}):(J.current.reverse(),D(!1)))}),[E]),h((()=>{J.current&&(L===T?setTimeout((()=>{D(!0)}),100):D(!1))}),[L]),o(r,{children:[\"fullscreen\"!==M&&i(v,{open:E,onClick:()=>{z&&N&&N()},blur:G,color:Y,opacity:B,closeOnClick:z}),i(a,{children:i(\"div\",Object.assign({className:\"flex justify-center\"},{children:i(\"div\",Object.assign({id:T,role:\"dialog\",\"aria-modal\":\"true\",\"aria-hidden\":!E,style:{opacity:0,visibility:\"hidden\"},ref:H,className:V},R,{children:C}))}))})]})}));g.displayName=\"Modal\";const j=Object.assign(g,{Group:t});export{j as default};\n"],"names":["e","t","o","l","n","a","r","s","c","d","i","O","g","u","m","j","C","k","w","x","M","E","G","z","Y","B","I","A","K","P","R","T","$","p","q","D","y","F","H","J","L","Q","S","f","h","b","v"],"mappings":"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"}